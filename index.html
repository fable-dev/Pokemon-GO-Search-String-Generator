<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PoGo Search Generator Pro</title>
    <meta name="description" content="Advanced search string generator for Pok√©mon GO. Filter by IVs, age, distance, moves, and more. Offline capable & mobile friendly.">
    <meta name="theme-color" content="#d32f2f">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fable-dev.github.io/Pokemon-GO-Search-String-Generator/">
    <meta property="og:title" content="PokeSearch Pro | Search String Generator">
    <meta property="og:description" content="Generate complex search strings for Pok√©mon GO. Features: IV filters, Trash cleaner, Trade tagging, and offline PWA support.">
    <meta property="og:image" content="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="PokeSearch Pro">
    <meta property="twitter:description" content="The ultimate tool for managing your Pok√©mon GO storage.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23ef5350'/><path d='M0 50 L100 50' stroke='%23333' stroke-width='10'/><circle cx='50' cy='50' r='50' fill='white' clip-path='inset(50% 0 0 0)'/><circle cx='50' cy='50' r='18' fill='white' stroke='%23333' stroke-width='8'/></svg>">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

    <header>
        <div class="header-content">
            <div class="header-title">
                <h1>PokeSearch Pro</h1>
                <p>Advanced Search String Generator</p>
            </div>
            <button id="theme-toggle" aria-label="Toggle Dark Mode">
                <span id="theme-icon">üåô</span>
            </button>
        </div>
    </header>

    <main class="container">
        
        <section class="output-card">
            <div class="output-header">
                <label class="main-label">Generated String</label>
                
                <div class="tooltip-container toggle-group">
                    <span class="toggle-label">Use OR ( , )</span>
                    <label class="switch">
                        <input type="checkbox" id="logic-toggle" checked>
                        <span class="slider round"></span>
                    </label>
                    <span class="toggle-label">Use AND ( & )</span>
                    
                    <span class="info-icon" style="margin-left: 5px;">?</span>
                    <span class="tooltip-text right-align bottom-align">
                        <strong style="color: var(--accent);">OR ( , )</strong><br>
                        Matches <b>ANY</b> term.<br>e.g. <code>shiny,lucky</code> finds Pok√©mon that are either shiny OR lucky.<br><br>
                        <strong style="color: var(--accent);">AND ( & )</strong><br>
                        Matches <b>ALL</b> terms.<br>e.g. <code>shiny&lucky</code> finds Pok√©mon that are BOTH shiny AND lucky.
                    </span>
                </div>
            </div>
            <textarea id="search-string" placeholder="Type here or select filters below..."></textarea>            
            <div class="button-group">
                <button id="copy-btn" onclick="copyText()">Copy</button>
                <button id="save-btn" class="action-btn" onclick="saveCurrentString()">Save</button>
                <button id="reset-btn" class="reset-btn" onclick="clearAll()">Reset</button>
            </div>
            <span id="copy-feedback">Copied to clipboard!</span>

            <div id="saved-section" class="saved-container" style="display:none;">
                <div class="saved-header">
                    <h4>‚≠ê Saved Searches</h4>
                    <div class="saved-actions">
                        <button class="icon-btn" onclick="exportData()" title="Export Backup">‚¨áÔ∏è</button>
                        <button class="icon-btn" onclick="triggerImport()" title="Import Backup">‚¨ÜÔ∏è</button>
                        <input type="file" id="import-file" style="display: none;" accept=".json" onchange="importData(this)">
                    </div>
                </div>
                <div id="saved-list">
                    </div>
            </div>

            <div class="presets-container">
                <div class="presets-header">
                    <span class="preset-label">Quick Filters:</span>
                    <div class="tooltip-container toggle-group small-toggle">
                        <span class="toggle-label">Replace</span>
                        <label class="switch small-switch">
                            <input type="checkbox" id="append-toggle">
                            <span class="slider round"></span>
                        </label>
                        <span class="toggle-label">Append</span>
                        <span class="info-icon" style="margin-left: 5px;">?</span>
                        <span class="tooltip-text right-align">
                            <b>Replace Mode:</b><br>
                            Clicking a filter button wipes the box clean and adds only that filter.<br><br>
                            <b>Append Mode:</b><br>
                            Clicking a button adds it to the end of your existing string using your selected logic (AND/OR).
                        </span>
                    </div>
                </div>
                <div class="presets-list">
                    <button class="preset-btn trash-btn" onclick="applyPreset('!shiny&!legendary&!mythical&!4*&!shadow&!ultra beast&!costume&0*,1*,2*')">üóëÔ∏è Trash (Safe)</button>
                    <button class="preset-btn" onclick="applyPreset('4*')">‚ú® 100% IV</button>
                    <button class="preset-btn" onclick="applyPreset('0attack&0defense&0hp')">üí© Nundo</button>
                    <button class="preset-btn" onclick="applyPreset('age0')">üìÖ Caught Today</button>
                    <button class="preset-btn" onclick="applyPreset('age365-&!lucky')">ü§ù Old Trade</button>
                    <button class="preset-btn trash-btn" onclick="applyPreset('age0&!shiny&!4*&!shadow&0*,1*,2*')">üßπ CommDay Trash</button>
                    <button class="preset-btn trade-btn" onclick="applyPreset('distance100-')">‚úàÔ∏è Dist. Trade</button>
                    <button class="preset-btn trade-btn" onclick="applyPreset('0*,1*,2*&!shiny&!legendary&!mythical&!ultra beast')">üîÑ Mirror Trade</button>
                </div>
            </div>
        </section>

        <section class="inputs-grid">
            <div class="input-group">
                <label>Pok√©mon Name</label>
                <div class="input-row input-with-btn">
                    <input type="text" id="input-name" placeholder="e.g. Pikachu" class="dynamic-input">
                    <button class="add-btn" onclick="triggerAdd('name')" title="Add Name">+</button>
                </div>
                <div class="tooltip-container" style="margin-top: 5px;">
                    <label class="checkbox-inline">
                        <input type="checkbox" id="check-family"> +Family
                    </label>
                    <span class="info-icon">?</span>
                    <span class="tooltip-text">Includes evolutions!</span>
                </div>
            </div>

            <div class="input-group">
                <div class="tooltip-container">
                    <label>CP Range</label>
                    <span class="info-icon">?</span>
                    <span class="tooltip-text">Leave one side empty for open ranges.</span>
                </div>
                <div class="range-inputs">
                    <input type="number" id="cp-min" placeholder="Min" class="dynamic-input">
                    <span>-</span>
                    <input type="number" id="cp-max" placeholder="Max" class="dynamic-input">
                    <button class="add-btn" onclick="triggerAdd('cp')" title="Add CP Range">+</button>
                </div>
            </div>

            <div class="input-group">
                <div class="tooltip-container">
                    <label>Distance (km)</label>
                    <span class="info-icon">?</span>
                    <span class="tooltip-text">Distance caught from current location.</span>
                </div>
                <div class="range-inputs">
                    <input type="number" id="dist-min" placeholder="Min" class="dynamic-input">
                    <span>-</span>
                    <input type="number" id="dist-max" placeholder="Max" class="dynamic-input">
                    <button class="add-btn" onclick="triggerAdd('distance')" title="Add Distance">+</button>
                </div>
            </div>

            <div class="input-group">
                <div class="tooltip-container">
                    <label>Days Ago (Age)</label>
                    <span class="info-icon">?</span>
                    <span class="tooltip-text">0 = Today<br>1 = Yesterday</span>
                </div>
                <div class="input-with-btn">
                    <input type="number" id="input-age" placeholder="e.g. 0" class="dynamic-input">
                    <button class="add-btn" onclick="triggerAdd('age')" title="Add Age">+</button>
                </div>
            </div>

             <div class="input-group">
                <label>Year Caught</label>
                <div class="input-with-btn">
                    <input type="number" id="input-year" placeholder="e.g. 2016" class="dynamic-input">
                    <button class="add-btn" onclick="triggerAdd('year')" title="Add Year">+</button>
                </div>
            </div>

            <div class="input-group">
                <div class="tooltip-container">
                    <label>Move Name / Type</label>
                    <span class="info-icon">?</span>
                    <span class="tooltip-text">Type "@Hydro" for move, "@Water" for type.</span>
                </div>
                <div class="input-with-btn">
                    <input type="text" id="input-move" placeholder="e.g. @Psychic" class="dynamic-input">
                    <button class="add-btn" onclick="triggerAdd('move')" title="Add Move">+</button>
                </div>
            </div>
        </section>
        <hr class="divider">
        <div class="filters-container">
            <details open><summary>Appraisal (Stars)</summary><div class="filters-grid"><label><input type="checkbox" value="4*" class="filter"> 4* (100%)</label><label><input type="checkbox" value="3*" class="filter"> 3*</label><label><input type="checkbox" value="2*" class="filter"> 2*</label><label><input type="checkbox" value="1*" class="filter"> 1*</label><label><input type="checkbox" value="0*" class="filter"> 0*</label><label><input type="checkbox" value="!4*" class="filter"> Not 4*</label></div></details>
            <details><summary>Status & Attributes</summary><div class="filters-grid"><label><input type="checkbox" value="shiny" class="filter"> Shiny</label><label><input type="checkbox" value="!shiny" class="filter"> Not Shiny</label><label><input type="checkbox" value="lucky" class="filter"> Lucky</label><label><input type="checkbox" value="shadow" class="filter"> Shadow</label><label><input type="checkbox" value="purified" class="filter"> Purified</label><label><input type="checkbox" value="costume" class="filter"> Costume</label><label><input type="checkbox" value="!costume" class="filter"> Not Costume</label><label><input type="checkbox" value="favorite" class="filter"> Favorite</label></div></details>
            <details><summary>Rarity & Type</summary><div class="filters-grid"><label><input type="checkbox" value="legendary" class="filter"> Legendary</label><label><input type="checkbox" value="mythical" class="filter"> Mythical</label><label><input type="checkbox" value="ultra beast" class="filter"> Ultra Beast</label></div></details>
            <details><summary>Regions</summary><div class="filters-grid"><label><input type="checkbox" value="kanto" class="filter"> Kanto</label><label><input type="checkbox" value="johto" class="filter"> Johto</label><label><input type="checkbox" value="hoenn" class="filter"> Hoenn</label><label><input type="checkbox" value="sinnoh" class="filter"> Sinnoh</label><label><input type="checkbox" value="unova" class="filter"> Unova</label><label><input type="checkbox" value="kalos" class="filter"> Kalos</label><label><input type="checkbox" value="alola" class="filter"> Alola</label><label><input type="checkbox" value="galar" class="filter"> Galar</label><label><input type="checkbox" value="paldea" class="filter"> Paldea</label></div></details>
            <details><summary>Evolution & Breeding</summary><div class="filters-grid"><label><input type="checkbox" value="evolve" class="filter"> Can Evolve</label><label><input type="checkbox" value="evolvenew" class="filter"> New Evolve</label><label><input type="checkbox" value="megaevolve" class="filter"> Can Mega</label><label><input type="checkbox" value="tradeevolve" class="filter"> Trade Evolve</label><label><input type="checkbox" value="item" class="filter"> Item Evolve</label><label><input type="checkbox" value="eggsonly" class="filter"> Baby (Eggs Only)</label><label><input type="checkbox" value="hatched" class="filter"> Hatched</label></div></details>
            <details><summary>Buddy & Mega Levels</summary><div class="filters-grid"><label><input type="checkbox" value="buddy0" class="filter"> Buddy 0 (None)</label><label><input type="checkbox" value="buddy1" class="filter"> Buddy 1</label><label><input type="checkbox" value="buddy2" class="filter"> Buddy 2</label><label><input type="checkbox" value="buddy3" class="filter"> Buddy 3</label><label><input type="checkbox" value="buddy4" class="filter"> Buddy 4</label><label><input type="checkbox" value="buddy5" class="filter"> Buddy 5 (Best)</label><label><input type="checkbox" value="mega1" class="filter"> Mega Base</label><label><input type="checkbox" value="mega2" class="filter"> Mega High</label><label><input type="checkbox" value="mega3" class="filter"> Mega Max</label></div></details>
            <details><summary>Size & Gender</summary><div class="filters-grid"><label><input type="checkbox" value="xxs" class="filter"> XXS</label><label><input type="checkbox" value="xs" class="filter"> XS</label><label><input type="checkbox" value="xl" class="filter"> XL</label><label><input type="checkbox" value="xxl" class="filter"> XXL</label><label><input type="checkbox" value="male" class="filter"> Male</label><label><input type="checkbox" value="female" class="filter"> Female</label><label><input type="checkbox" value="genderunknown" class="filter"> Gender Unknown</label></div></details>
            <details><summary>Moves, Raids & Misc</summary><div class="filters-grid"><label><input type="checkbox" value="@special" class="filter"> Special Move</label><label><input type="checkbox" value="@weather" class="filter"> Weather Boost</label><label><input type="checkbox" value="traded" class="filter"> Traded</label><label><input type="checkbox" value="!traded" class="filter"> Not Traded</label><label><input type="checkbox" value="defender" class="filter"> Gym Defender</label><label><input type="checkbox" value="gbl" class="filter"> GBL Reward</label><label><input type="checkbox" value="raid" class="filter"> Raid</label><label><input type="checkbox" value="remoteraid" class="filter"> Remote Raid</label><label><input type="checkbox" value="snapshot" class="filter"> Snapshot</label><label><input type="checkbox" value="locationbackground" class="filter"> Location BG</label><label><input type="checkbox" value="specialbackground" class="filter"> Special BG</label></div></details>
        </div>
    </main>
    <footer>
        
        <details class="cheatsheet">
            <summary>üìú Search Command Cheatsheet</summary>
            <div class="cheatsheet-content">
                <p class="sheet-intro">Quick reference for manual typing:</p>
                
                <div class="sheet-grid">
                    
                    <div class="sheet-group">
                        <h5>Logic & Operators</h5>
                        <ul>
                            <li><code>&</code> <span>AND (e.g. shiny&legendary)</span></li>
                            <li><code>,</code> <span>OR (e.g. shiny,lucky)</span></li>
                            <li><code>!</code> <span>NOT (e.g. !shiny)</span></li>
                        </ul>
                    </div>

                    <div class="sheet-group">
                        <h5>Time & Distance</h5>
                        <ul>
                            <li><code>age0</code> <span>Caught last 24 hours</span></li>
                            <li><code>age1</code> <span>Caught yesterday</span></li>
                            <li><code>year2016</code> <span>Caught in 2016</span></li>
                            <li><code>distance100-</code> <span>Caught 100km+ away</span></li>
                        </ul>
                    </div>

                    <div class="sheet-group">
                        <h5>IVs & Stats</h5>
                        <ul>
                            <li><code>4*</code> <span>100% IV (Hundo)</span></li>
                            <li><code>0*</code> <span>0-50% IV</span></li>
                            <li><code>0attack</code> <span>0 Attack Stat</span></li>
                            <li><code>cp-1500</code> <span>CP 1500 or lower</span></li>
                        </ul>
                    </div>

                    <div class="sheet-group">
                        <h5>Moves & Misc</h5>
                        <ul>
                            <li><code>@special</code> <span>Legacy/Exclusive Move</span></li>
                            <li><code>@weather</code> <span>Weather Boosted</span></li>
                            <li><code>@3move</code> <span>Has 2nd Charge Move</span></li>
                            <li><code>evolvenew</code> <span>New Pok√©dex Entry</span></li>
                        </ul>
                    </div>

                </div>
            </div>
        </details>

        <p class="copyright">Built for Pok√©mon GO Trainers</p>
    </footer>
    <div id="update-modal" class="modal-backdrop" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üöÄ What's New in v1.1</h2>
            </div>
            <div class="modal-body">
                <ul>
                    <li><strong>üì± App Support (PWA):</strong> Install this tool on your phone for full-screen & offline access!</li>
                    <li><strong>üíæ Import/Export:</strong> Backup your saved strings or share them with friends.</li>
                    <li><strong>‚ú® Smart Append:</strong> Use the "+" buttons to build complex strings term-by-term.</li>
                    <li><strong>üåô Dark Mode:</strong> Improved contrast and fixed layout issues.</li>
                    <li><strong>üêû Bug Fixes:</strong> Better mobile tooltips and layout fixes.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal()" class="primary-btn">Awesome!</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./sw.js')
            .then(() => console.log('Service Worker Registered'))
            .catch((err) => console.log('Service Worker Failed', err));
    }
</script>
</body>
</html>
